<section class="ef-products">
  <header class="ef-products-header">
    <div>
      <h1>Products Management</h1>
      <p class="ef-products-subtitle">
        Manage Eastern Feeds product catalog.
      </p>
    </div>

    <button mat-flat-button color="primary" (click)="addProduct()">
      <mat-icon>add</mat-icon>
      <span>Add Product</span>
    </button>
  </header>

  <section class="ef-products-table-wrapper">
    <table mat-table [dataSource]="dataSource" class="ef-products-table mat-elevation-z1">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>ID</th>
        <td mat-cell *matCellDef="let product">{{ product.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let product">{{ product.name }}</td>
      </ng-container>

      <!-- Category Column -->
      <ng-container matColumnDef="category">
        <th mat-header-cell *matHeaderCellDef>Category</th>
        <td mat-cell *matCellDef="let product">{{ product.category }}</td>
      </ng-container>

      <!-- Price Column -->
      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Price</th>
        <td mat-cell *matCellDef="let product">
          {{ product.price | currency : 'NGN' : 'symbol-narrow' }}
        </td>
      </ng-container>

      <!-- Stock Column -->
      <ng-container matColumnDef="stock">
        <th mat-header-cell *matHeaderCellDef>Stock</th>
        <td mat-cell *matCellDef="let product">{{ product.stock }}</td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef class="ef-actions-header">
          Actions
        </th>
        <td mat-cell *matCellDef="let product" class="ef-actions-cell">
          <button mat-icon-button color="primary" type="button" (click)="viewProduct(product)"
            aria-label="View product">
            <mat-icon>visibility</mat-icon>
          </button>
          <button mat-icon-button color="accent" type="button" (click)="editProduct(product)" aria-label="Edit product">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" type="button" (click)="deleteProduct(product)"
            aria-label="Delete product">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

      <tr class="ef-empty-row" *ngIf="dataSource.data.length === 0">
        <td colspan="6">
          No products available. Click <strong>+ Add Product</strong> to create one.
        </td>
      </tr>
    </table>
  </section>
</section>